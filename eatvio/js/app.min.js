(()=>{"use strict";const t=document.body;function e(e){let o=e||"lock",n=t.classList.contains(o)?"0px":window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";t.style.setProperty("--lock-padding",n),t.classList.toggle(o)}const o=()=>{function t(t,e,o,n){void 0===e&&(e=400),void 0===n&&(n=!1),t.style.overflow="hidden",n&&(t.style.display="block");var a,s=window.getComputedStyle(t),l=parseFloat(s.getPropertyValue("height")),r=parseFloat(s.getPropertyValue("padding-top")),i=parseFloat(s.getPropertyValue("padding-bottom")),c=parseFloat(s.getPropertyValue("margin-top")),d=parseFloat(s.getPropertyValue("margin-bottom")),u=l/e,p=r/e,g=i/e,m=c/e,y=d/e;window.requestAnimationFrame((function s(v){void 0===a&&(a=v);var f=v-a;n?(t.style.height=u*f+"px",t.style.paddingTop=p*f+"px",t.style.paddingBottom=g*f+"px",t.style.marginTop=m*f+"px",t.style.marginBottom=y*f+"px"):(t.style.height=l-u*f+"px",t.style.paddingTop=r-p*f+"px",t.style.paddingBottom=i-g*f+"px",t.style.marginTop=c-m*f+"px",t.style.marginBottom=d-y*f+"px"),f>=e?(t.style.height="",t.style.paddingTop="",t.style.paddingBottom="",t.style.marginTop="",t.style.marginBottom="",t.style.overflow="",n||(t.style.display="none"),"function"==typeof o&&o()):window.requestAnimationFrame(s)}))}HTMLElement.prototype.slideToggle=function(e,o){0===this.clientHeight?t(this,e,o,!0):t(this,e,o)},HTMLElement.prototype.slideUp=function(e,o){t(this,e,o)},HTMLElement.prototype.slideDown=function(e,o){t(this,e,o,!0)}};document.addEventListener("DOMContentLoaded",(()=>{function t(){document.querySelectorAll(".chat__contacts-item").forEach((t=>t.classList.remove("active"))),document.querySelectorAll(".chat__block").forEach((t=>t.classList.remove("active")))}(()=>{function t(t){const o=document.querySelector('[data-modal="open"]');t.classList.remove("open"),t.removeAttribute("tabindex"),t.setAttribute("aria-hidden",!0),o.setAttribute("aria-expanded",!0),o.setAttribute("data-modal",""),e()}document.addEventListener("click",(o=>{const n=o.target;if(n.closest("[data-modal]")){const a=n.closest("[data-modal]"),s=a.getAttribute("href").replace("#",""),l=document.getElementById(s);l&&function(o,n){const a=document.querySelector(".popup.open");a?t(a):e(),o.classList.add("open"),o.setAttribute("aria-hidden",!1),o.setAttribute("tabindex","-1"),n.setAttribute("aria-expanded",!1),n.setAttribute("data-modal","open")}(l,a),o.preventDefault()}n.closest("[data-close-modal]")&&(t(n.closest(".popup")),o.preventDefault()),n.classList.contains("popup__content")&&t(n.closest(".popup"))})),document.addEventListener("keydown",(function(e){if("Escape"===e.key){const e=document.querySelector(".popup.open");e&&t(e)}"Enter"===e.key&&document.querySelector(".popup.open")&&e.preventDefault()}))})(),(()=>{let t;document.onmouseover=function(e){let o=e.target,n=o.dataset.tooltip;if(!n)return;t=document.createElement("div"),t.className="tooltip",t.innerHTML=n,document.body.append(t);let a=o.getBoundingClientRect(),s=a.left+(o.offsetWidth-t.offsetWidth)/2;s<0&&(s=0);let l=a.top-t.offsetHeight-5;l<0&&(l=a.top+o.offsetHeight+5),t.style.left=s+"px",t.style.top=l+"px"},document.onmouseout=function(e){t&&(t.remove(),t=null)}})(),(()=>{const t=document.querySelectorAll("[data-maxlength]");!t.length>0||t.forEach((t=>{const e=t.getAttribute("maxlength"),o=document.getElementById(t.dataset.maxlength),n=o.querySelector(".label__quantity-current");o.querySelector(".label__quantity-total").innerHTML=e,t.addEventListener("input",(t=>{n.innerHTML=t.target.value.length,t.target.value.slice(0,e)}))}))})(),(()=>{const t=document.querySelectorAll("[data-checking-item]");if(!t.length>0)return;const e=document.querySelector("[data-checking-value]");function o(){let e=0;return t.forEach((t=>{t.checked&&e++})),e}e.innerHTML=o(),t.forEach((t=>{t.addEventListener("change",(()=>{e.innerHTML=o()}))}))})(),(()=>{const t=document.querySelector(".announcement__carousel");if(!t)return;let e,o,n=!1;t.addEventListener("pointerdown",(a=>{n=!0,t.classList.add("active"),e=a.pageX-t.offsetLeft,o=t.scrollLeft})),t.addEventListener("pointerleave",(()=>{n=!1,t.classList.remove("active")})),t.addEventListener("pointerup",(()=>{n=!1,t.classList.remove("active")})),t.addEventListener("pointermove",(a=>{if(!n)return;a.preventDefault();const s=2*(a.pageX-t.offsetLeft-e);t.scrollLeft=o-s}))})(),(()=>{const t=document.querySelector(".icon-menu"),e=document.querySelector(".header__menu");t&&t.addEventListener("click",(function(o){document.body.classList.toggle("lock"),t.classList.toggle("active"),e.classList.toggle("active")}))})(),(()=>{const t=document.querySelector(".fixed-columns");if(!t)return;let e=t.parentElement,o=t.cloneNode(!0);o.classList.add("clone"),e.appendChild(o);let n=t.rows;for(let t=0;t<n.length;t++){const e=n[t].children;for(let t=0;t<e.length;t++){const o=e[t];o.querySelector(".checkbox")&&(o.innerHTML="")}}})(),o(),(()=>{const t=document.querySelectorAll("[data-spollers]");if(t.length>0){const e=Array.from(t).filter((function(t,e,o){return!t.dataset.spollers.split(",")[0]}));e.length>0&&n(e);const o=Array.from(t).filter((function(t,e,o){return t.dataset.spollers.split(",")[0]}));if(o.length>0){const t=[];o.forEach((e=>{const o={},n=e.dataset.spollers.split(",");o.value=n[0],o.type=n[1]?n[1].trim():"max",o.item=e,t.push(o)}));let e=t.map((function(t){return"("+t.type+"-width: "+t.value+"px),"+t.value+","+t.type}));e=e.filter((function(t,e,o){return o.indexOf(t)===e})),e.forEach((e=>{const o=e.split(","),a=o[1],s=o[2],l=window.matchMedia(o[0]),r=t.filter((function(t){if(t.value===a&&t.type===s)return!0}));l.addListener((function(){n(r,l)})),n(r,l)}))}function n(t,e=!1){t.forEach((t=>{t=e?t.item:t,e.matches||!e?(t.classList.add("_init"),a(t),t.addEventListener("click",s)):(t.classList.remove("_init"),a(t,!1),t.removeEventListener("click",s))}))}function a(t,e=!0){const o=t.querySelectorAll("[data-spoller]");o.length>0&&o.forEach((t=>{e?(t.removeAttribute("tabindex"),t.classList.contains("_active")||(t.nextElementSibling.hidden=!0)):(t.setAttribute("tabindex","-1"),t.nextElementSibling.hidden=!1)}))}function s(t){const e=t.target;if(e.hasAttribute("data-spoller")||e.closest("[data-spoller]")){const o=e.hasAttribute("data-spoller")?e:e.closest("[data-spoller]"),n=o.closest("[data-spollers]"),a=!!n.hasAttribute("data-one-spoller");n.querySelectorAll("._slide").length||(a&&!o.classList.contains("_active")&&l(n),o.classList.toggle("_active"),o.nextElementSibling.slideToggle(300)),t.preventDefault()}}function l(t){const e=t.querySelector("[data-spoller]._active");e&&(e.classList.remove("_active"),e.nextElementSibling.slideUp(300))}}})(),(()=>{let t=[];function e(t){let e=null,o=null,n=[];function a(e,o=!0){t.forEach(((t,a)=>{e===t?(t.setAttribute("aria-selected","true"),t.removeAttribute("tabindex"),n[a].classList.remove("tabpanel--hidden"),o&&t.focus()):(t.setAttribute("aria-selected","false"),t.tabIndex=-1,n[a].classList.add("tabpanel--hidden"))}))}function s(n){const s=n.currentTarget;let l=!1;switch(n.key){case"ArrowLeft":!function(e){const n=t.indexOf(e);a(0===n?o:t[n-1])}(s),l=!0;break;case"ArrowRight":!function(o){const n=t.indexOf(o);a(n===t.length-1?e:t[n+1])}(s),l=!0}l&&(n.stopPropagation(),n.preventDefault())}function l(t){a(t.currentTarget)}n=t.map((t=>{const n=document.getElementById(t.getAttribute("aria-controls"));return t.tabIndex=-1,t.setAttribute("aria-selected","false"),t.addEventListener("keydown",s),t.addEventListener("click",l),e||(e=t),o=t,n})),a(e,!1)}document.querySelectorAll("[data-tabs]").length>0?document.querySelectorAll("[data-tabs]").forEach((o=>{t=Array.from(o.querySelectorAll('[role="tab"]')),e(t)})):(t=Array.from(document.querySelectorAll('[role="tab"]')),e(t))})(),document.addEventListener("click",(e=>{if(e.target.classList.contains("header__user-btn")&&(e.target.classList.toggle("active"),e.target.nextElementSibling?.classList.toggle("active")),e.target.classList.contains("header__notification-btn")&&(e.preventDefault(),e.target.classList.toggle("active"),e.target.nextElementSibling?.classList.toggle("active")),(e.target.classList.contains("announcement__actions-btn")||e.target.classList.contains("chat__actions-btn"))&&(e.target.classList.toggle("active"),e.target.nextElementSibling?.classList.toggle("active")),e.target.classList.contains("spoller-mobile")&&(e.target.classList.toggle("active"),e.target.nextElementSibling?.classList.toggle("active")),e.target.closest(".chat__contacts-item")){let o=function(t){for(var e=t.parentNode.childNodes,o=0,n=0;n<e.length;n++){if(e[n]==t)return o;1==e[n].nodeType&&o++}return-1}(e.target.closest(".chat__contacts-item"));t(),document.querySelectorAll(".chat__contacts-item")[o].classList.add("active"),document.querySelectorAll(".chat__block")[o].classList.add("active"),document.querySelector(".chat__container").classList.add("active")}if(e.target.classList.contains("chat__back")&&(document.querySelector(".chat__container").classList.remove("active"),t()),e.target.classList.contains("diary__product-edit")&&(e.target.classList.toggle("active"),e.target.closest(".diary__product-item").classList.toggle("edit"),e.target.closest(".diary__product-item").querySelector("[data-product-more]").slideToggle()),e.target.classList.contains("diary__tooltip-close")&&(e.target.closest(".diary__tooltip").classList.add("closed"),e.target.closest(".diary__tooltip").classList.remove("visible")),e.target.classList.contains("diary__tooltip-item")&&(document.querySelector('[name="product-name"]').value=e.target.textContent,e.target.closest(".diary__tooltip").classList.remove("visible")),e.target.classList.contains("subscribers__search-filters-btn")&&(e.target.classList.toggle("active"),e.target.nextElementSibling?.classList.toggle("active")),e.target.classList.contains("diet__desc-full")&&(e.target.classList.toggle("active"),e.target.classList.contains("active")?e.target.textContent="Свернуть":e.target.textContent="Развернуть",e.target.previousElementSibling?.classList.toggle("active")),e.target.classList.contains("search__bar-close")&&document.querySelector(".search").classList.remove("open"),e.target.classList.contains("search-mobile-btn")&&document.querySelector(".search").classList.add("open"),e.target.classList.contains("person__menu-btn")&&(e.target.classList.toggle("active"),e.target.nextElementSibling?.classList.toggle("active")),e.target.hasAttribute("data-popover-close")){const t=e.target.closest("[data-popover]");t&&t.classList.add("invisible","opacity-0")}})),document.querySelector(".content__recipes-select")&&document.querySelector(".content__recipes-select").addEventListener("change",(t=>{let e=t.target.value;document.querySelectorAll(".content__recipes").forEach((t=>{t.classList.remove("active")})),document.getElementById(e)?.classList.add("active")})),document.querySelector(".diary__product-slider")&&new Swiper(".diary__product-slider",{speed:800,slidesPerView:1,loop:!0,navigation:{nextEl:".diary__product-next",prevEl:".diary__product-prev"}}),document.querySelectorAll('[name="product-name"]').length>0&&document.querySelectorAll('[name="product-name"]').forEach((t=>{t.addEventListener("input",(t=>{t.target.value.length>0?t.target.nextElementSibling?.classList.add("visible"):(t.target.nextElementSibling?.classList.remove("visible"),t.target.nextElementSibling?.classList.remove("closed"))}))})),document.querySelectorAll(".diary__tooltip").length>0&&document.querySelectorAll(".diary__tooltip").forEach((t=>{const e=t.querySelector(".diary__tooltip-prev"),o=t.querySelector(".diary__tooltip-next"),n=t.querySelector(".diary__tooltip-content");new Swiper(n,{speed:800,slidesPerView:5,direction:"vertical",navigation:{nextEl:o,prevEl:e}})})),document.querySelectorAll(".diary__product-item.edit").length>0&&document.querySelectorAll(".diary__product-item.edit").forEach((t=>{t.querySelectorAll(".diary__product-edit").forEach((t=>{t.classList.add("active")})),t.querySelector("[data-product-more]").slideDown(0)})),document.querySelector(".search__input")&&(document.querySelector(".search__input").addEventListener("focus",(t=>{document.querySelector(".search").classList.add("open")})),document.querySelector(".search__bar").addEventListener("mouseleave",(t=>{document.querySelector(".search").classList.remove("open")})))}))})();