(()=>{"use strict";const e=document.body;function t(t){let n=t||"lock",a=e.classList.contains(n)?"0px":window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";e.style.setProperty("--lock-padding",a),e.classList.toggle(n)}const n=()=>{function e(e,t,n,a){void 0===t&&(t=400),void 0===a&&(a=!1),e.style.overflow="hidden",a&&(e.style.display="block");var s,o=window.getComputedStyle(e),c=parseFloat(o.getPropertyValue("height")),l=parseFloat(o.getPropertyValue("padding-top")),r=parseFloat(o.getPropertyValue("padding-bottom")),i=parseFloat(o.getPropertyValue("margin-top")),d=parseFloat(o.getPropertyValue("margin-bottom")),u=c/t,p=l/t,m=r/t,g=i/t,_=d/t;window.requestAnimationFrame((function o(v){void 0===s&&(s=v);var y=v-s;a?(e.style.height=u*y+"px",e.style.paddingTop=p*y+"px",e.style.paddingBottom=m*y+"px",e.style.marginTop=g*y+"px",e.style.marginBottom=_*y+"px"):(e.style.height=c-u*y+"px",e.style.paddingTop=l-p*y+"px",e.style.paddingBottom=r-m*y+"px",e.style.marginTop=i-g*y+"px",e.style.marginBottom=d-_*y+"px"),y>=t?(e.style.height="",e.style.paddingTop="",e.style.paddingBottom="",e.style.marginTop="",e.style.marginBottom="",e.style.overflow="",a||(e.style.display="none"),"function"==typeof n&&n()):window.requestAnimationFrame(o)}))}HTMLElement.prototype.slideToggle=function(t,n){0===this.clientHeight?e(this,t,n,!0):e(this,t,n)},HTMLElement.prototype.slideUp=function(t,n){e(this,t,n)},HTMLElement.prototype.slideDown=function(t,n){e(this,t,n,!0)}};document.addEventListener("DOMContentLoaded",(()=>{if((()=>{function e(e,a=!0){const s=document.querySelector('[data-modal="open"]');e.classList.remove("open"),n(e,{"aria-hidden":"true",tabindex:null}),s&&n(s,{"aria-expanded":"false","data-modal":""}),a&&t(),e.dispatchEvent(new CustomEvent("popupClose",{detail:{modal:e}}))}function n(e,t){Object.keys(t).forEach((n=>{const a=t[n];null===a?e.removeAttribute(n):e.setAttribute(n,a)}))}document.addEventListener("click",(a=>{const s=a.target;if(s.closest("[data-modal]")){a.preventDefault();const o=s.closest("[data-modal]"),c="A"===o.tagName&&o.hasAttribute("href")?o.getAttribute("href").replace("#",""):o.getAttribute("data-href"),l=document.getElementById(c);l&&function(a,s){const o=document.querySelector(".popup.open");o?e(o,!1):t(),a.classList.add("open"),n(a,{"aria-hidden":"false",tabindex:"-1"}),n(s,{"aria-expanded":"true","data-modal":"open"}),a.dispatchEvent(new CustomEvent("popupOpen",{detail:{modal:a,modalBtn:s}}))}(l,o)}if(s.closest("[data-close-modal]")){a.preventDefault();const t=s.closest(".popup");t&&e(t)}if(s.classList.contains("popup__content")){const t=s.closest(".popup");t&&e(t)}})),document.addEventListener("keydown",(t=>{const n=document.querySelector(".popup.open");"Escape"===t.key&&n&&e(n),"Enter"===t.key&&n&&t.preventDefault()}))})(),(()=>{let e;function t(t){let n=t.target,a=n.getBoundingClientRect(),s=a.left+(n.offsetWidth-e.offsetWidth)/2;s<0&&(s=0);let o=a.top-e.offsetHeight-5;o<0&&(o=a.top+n.offsetHeight+5),e.style.left=s+"px",e.style.top=o+"px"}document.onmouseover=function(n){let a=n.target,s=a.dataset.tooltip;s&&(e=document.createElement("div"),e.classList.add("tooltip"),a.classList.contains("tooltip-lg")&&e.classList.add("tooltip-lg"),e.innerHTML=s,document.body.append(e),t(n))},document.onmousemove=function(n){e&&t(n)},document.onmouseout=function(){e&&(e.remove(),e=null)}})(),(()=>{const e=document.querySelectorAll("[data-maxlength]");!e.length>0||e.forEach((e=>{const t=e.getAttribute("maxlength"),n=document.getElementById(e.dataset.maxlength),a=n.querySelector(".label__quantity-current");n.querySelector(".label__quantity-total").innerHTML=t,e.addEventListener("input",(e=>{a.innerHTML=e.target.value.length,e.target.value.slice(0,t)}))}))})(),(()=>{const e=document.querySelectorAll("[data-checking-item]");if(!e.length>0)return;const t=document.querySelector("[data-checking-value]");function n(){let t=0;return e.forEach((e=>{e.checked&&t++})),t}t.innerHTML=n(),e.forEach((e=>{e.addEventListener("change",(()=>{t.innerHTML=n()}))}))})(),(()=>{const e=document.querySelector(".announcement__carousel");if(!e)return;let t,n,a=!1;e.addEventListener("pointerdown",(s=>{a=!0,e.classList.add("active"),t=s.pageX-e.offsetLeft,n=e.scrollLeft})),e.addEventListener("pointerleave",(()=>{a=!1,e.classList.remove("active")})),e.addEventListener("pointerup",(()=>{a=!1,e.classList.remove("active")})),e.addEventListener("pointermove",(s=>{if(!a)return;s.preventDefault();const o=2*(s.pageX-e.offsetLeft-t);e.scrollLeft=n-o}))})(),(()=>{const e=document.querySelector(".icon-menu"),t=document.querySelector(".header__menu");e&&e.addEventListener("click",(function(n){document.body.classList.toggle("lock"),e.classList.toggle("active"),t.classList.toggle("active")}))})(),(()=>{const e=document.querySelector(".fixed-columns");if(!e)return;let t=e.parentElement,n=e.cloneNode(!0);n.classList.add("clone"),t.appendChild(n);let a=e.rows;for(let e=0;e<a.length;e++){const t=a[e].children;for(let e=0;e<t.length;e++){const n=t[e];n.querySelector(".checkbox")&&(n.innerHTML="")}}})(),n(),(()=>{const e=document.querySelectorAll("[data-spollers]");if(e.length>0){const t=Array.from(e).filter((function(e,t,n){return!e.dataset.spollers.split(",")[0]}));t.length>0&&a(t);const n=Array.from(e).filter((function(e,t,n){return e.dataset.spollers.split(",")[0]}));if(n.length>0){const e=[];n.forEach((t=>{const n={},a=t.dataset.spollers.split(",");n.value=a[0],n.type=a[1]?a[1].trim():"max",n.item=t,e.push(n)}));let t=e.map((function(e){return"("+e.type+"-width: "+e.value+"px),"+e.value+","+e.type}));t=t.filter((function(e,t,n){return n.indexOf(e)===t})),t.forEach((t=>{const n=t.split(","),s=n[1],o=n[2],c=window.matchMedia(n[0]),l=e.filter((function(e){if(e.value===s&&e.type===o)return!0}));c.addListener((function(){a(l,c)})),a(l,c)}))}function a(e,t=!1){e.forEach((e=>{e=t?e.item:e,t.matches||!t?(e.classList.add("_init"),s(e),e.addEventListener("click",o)):(e.classList.remove("_init"),s(e,!1),e.removeEventListener("click",o))}))}function s(e,t=!0){const n=e.querySelectorAll("[data-spoller]");n.length>0&&n.forEach((e=>{t?(e.removeAttribute("tabindex"),e.classList.contains("_active")||(e.nextElementSibling.hidden=!0)):(e.setAttribute("tabindex","-1"),e.nextElementSibling.hidden=!1)}))}function o(e){const t=e.target;if(t.hasAttribute("data-spoller")||t.closest("[data-spoller]")){const n=t.hasAttribute("data-spoller")?t:t.closest("[data-spoller]"),a=n.closest("[data-spollers]"),s=!!a.hasAttribute("data-one-spoller");a.querySelectorAll("._slide").length||(s&&!n.classList.contains("_active")&&c(a),n.classList.toggle("_active"),n.nextElementSibling.slideToggle(300)),e.preventDefault()}}function c(e){const t=e.querySelector("[data-spoller]._active");t&&(t.classList.remove("_active"),t.nextElementSibling.slideUp(300))}}})(),(()=>{let e=[];function t(e){let t=null,n=null,a=[];function s(t,n=!0){e.forEach(((e,s)=>{t===e?(e.setAttribute("aria-selected","true"),e.removeAttribute("tabindex"),a[s].classList.remove("tabpanel--hidden"),n&&e.focus()):(e.setAttribute("aria-selected","false"),e.tabIndex=-1,a[s].classList.add("tabpanel--hidden"))}))}function o(a){const o=a.currentTarget;let c=!1;switch(a.key){case"ArrowLeft":!function(t){const a=e.indexOf(t);s(0===a?n:e[a-1])}(o),c=!0;break;case"ArrowRight":!function(n){const a=e.indexOf(n);s(a===e.length-1?t:e[a+1])}(o),c=!0}c&&(a.stopPropagation(),a.preventDefault())}function c(e){s(e.currentTarget)}a=e.map((e=>{const a=document.getElementById(e.getAttribute("aria-controls"));return e.tabIndex=-1,e.setAttribute("aria-selected","false"),e.addEventListener("keydown",o),e.addEventListener("click",c),t||(t=e),n=e,a})),s(t,!1)}document.querySelectorAll("[data-tabs]").length>0?document.querySelectorAll("[data-tabs]").forEach((n=>{e=Array.from(n.querySelectorAll('[role="tab"]')),t(e)})):(e=Array.from(document.querySelectorAll('[role="tab"]')),t(e))})(),document.addEventListener("click",(t=>{if(t.target.classList.contains("header__user-btn")&&(t.target.classList.toggle("active"),t.target.nextElementSibling?.classList.toggle("active")),t.target.classList.contains("header__notification-btn")&&(t.preventDefault(),t.target.classList.toggle("active"),t.target.nextElementSibling?.classList.toggle("active")),(t.target.classList.contains("announcement__actions-btn")||t.target.classList.contains("chat__actions-btn"))&&(t.target.classList.toggle("active"),t.target.nextElementSibling?.classList.toggle("active")),t.target.classList.contains("spoller-mobile")&&(t.target.classList.toggle("active"),t.target.nextElementSibling?.classList.toggle("active")),t.target.closest(".chat__contacts-item")){let n=e(t.target.closest(".chat__contacts-item"));a(),document.querySelectorAll(".chat__contacts-item")[n].classList.add("active"),document.querySelectorAll(".chat__block")[n].classList.add("active"),document.querySelector(".chat__container").classList.add("active")}if(t.target.classList.contains("chat__back")&&(document.querySelector(".chat__container").classList.remove("active"),a()),t.target.classList.contains("diary__product-edit")&&(t.target.classList.toggle("active"),t.target.closest(".diary__product-item").classList.toggle("edit"),t.target.closest(".diary__product-item").querySelector("[data-product-more]").slideToggle()),t.target.classList.contains("diary__tooltip-close")&&(t.target.closest(".diary__tooltip").classList.add("closed"),t.target.closest(".diary__tooltip").classList.remove("visible")),t.target.classList.contains("diary__tooltip-item")&&(document.querySelector('[name="product-name"]').value=t.target.textContent,t.target.closest(".diary__tooltip").classList.remove("visible")),t.target.classList.contains("subscribers__search-filters-btn")&&(t.target.classList.toggle("active"),t.target.nextElementSibling?.classList.toggle("active")),t.target.classList.contains("diet__desc-full")&&(t.target.classList.toggle("active"),t.target.classList.contains("active")?t.target.textContent="Свернуть":t.target.textContent="Развернуть",t.target.previousElementSibling?.classList.toggle("active")),t.target.classList.contains("search__bar-close")&&document.querySelector(".search").classList.remove("open"),t.target.classList.contains("search-mobile-btn")&&document.querySelector(".search").classList.add("open"),t.target.classList.contains("person__menu-btn")&&(t.target.classList.toggle("active"),t.target.nextElementSibling?.classList.toggle("active")),t.target.hasAttribute("data-popover-close")){const e=t.target.closest("[data-popover]");e&&e.classList.add("invisible","opacity-0")}if(t.target.classList.contains("diet__favorite")&&t.target.classList.toggle("active"),t.target.classList.contains("diet__save")&&t.target.classList.toggle("active"),t.target.classList.contains("settings__person-menu-btn")&&(t.target.classList.toggle("active"),t.target.nextElementSibling?.classList.toggle("active")),t.target.classList.contains("chat__banner-remove")&&t.target.closest(".chat__banner").remove(),t.target.classList.contains("chat-notification-btn")&&(t.target.classList.toggle("active"),t.target.classList.contains("active")?t.target.textContent="Включить оповещения":t.target.textContent="Отключить оповещения"),t.target.closest(".plan__type-btn")){const e=t.target.closest(".plan__type-btn"),n=e.closest(".plan__type").querySelector(".plan__type-tootlip"),a=n?.classList.contains("open");document.querySelectorAll(".plan__type-tootlip.open").forEach((e=>{const t=e.closest(".plan__type").querySelector(".plan__type-btn");e.classList.remove("open"),t?.classList.remove("active")})),a||(e.classList.add("active"),n?.classList.add("open"))}if(t.target.classList.contains("plan__type-tootlip-close")){const e=t.target.closest(".plan__type-tootlip"),n=e.closest(".plan__type").querySelector(".plan__type-btn");e.classList.remove("open"),n?.classList.remove("active")}if(t.target.closest(".plan__type")||document.querySelectorAll(".plan__type-tootlip.open").forEach((e=>{const t=e.closest(".plan__type").querySelector(".plan__type-btn");e.classList.remove("open"),t?.classList.remove("active")})),t.target.matches(".arm__complaint-category")){document.querySelectorAll(".arm__complaint-category").forEach((e=>{e.classList.remove("active")})),document.querySelectorAll(".arm__questions-block").forEach((e=>{e.classList.remove("active")})),t.target.classList.add("active");let n=e(t.target);const a=document.querySelectorAll(".arm__questions-block")[n];a&&a.classList.add("active")}t.target.matches(".favorite-btn")&&t.target.classList.toggle("active")})),document.querySelector(".content__recipes-select")&&document.querySelector(".content__recipes-select").addEventListener("change",(e=>{let t=e.target.value;document.querySelectorAll(".content__recipes").forEach((e=>{e.classList.remove("active")})),document.getElementById(t)?.classList.add("active")})),document.querySelector(".diary__product-slider")&&new Swiper(".diary__product-slider",{speed:800,slidesPerView:1,loop:!0,navigation:{nextEl:".diary__product-next",prevEl:".diary__product-prev"}}),document.querySelectorAll('[name="product-name"]').length>0&&document.querySelectorAll('[name="product-name"]').forEach((e=>{e.addEventListener("input",(e=>{e.target.value.length>0?e.target.nextElementSibling?.classList.add("visible"):(e.target.nextElementSibling?.classList.remove("visible"),e.target.nextElementSibling?.classList.remove("closed"))}))})),document.querySelector(".person__side-checklist")&&new Swiper(".person__side-checklist",{speed:800,slidesPerView:"auto",spaceBetween:8,grabCursor:!0}),document.querySelector(".person__certs")){const e=new Swiper(".person__certs-thumbs-slider",{slidesPerView:4,spaceBetween:12,direction:"vertical",navigation:{nextEl:".person__certs-next",prevEl:".person__certs-prev"}});new Swiper(".person__certs-main",{speed:800,slidesPerView:1,navigation:{nextEl:".person__certs-next",prevEl:".person__certs-prev"},thumbs:{swiper:e}})}function e(e){for(var t=e.parentNode.childNodes,n=0,a=0;a<t.length;a++){if(t[a]==e)return n;1==t[a].nodeType&&n++}return-1}function a(){document.querySelectorAll(".chat__contacts-item").forEach((e=>e.classList.remove("active"))),document.querySelectorAll(".chat__block").forEach((e=>e.classList.remove("active")))}if(document.querySelectorAll(".diary__tooltip").length>0&&document.querySelectorAll(".diary__tooltip").forEach((e=>{const t=e.querySelector(".diary__tooltip-prev"),n=e.querySelector(".diary__tooltip-next"),a=e.querySelector(".diary__tooltip-content");new Swiper(a,{speed:800,slidesPerView:5,direction:"vertical",navigation:{nextEl:n,prevEl:t}})})),document.querySelectorAll(".diary__product-item.edit").length>0&&document.querySelectorAll(".diary__product-item.edit").forEach((e=>{e.querySelectorAll(".diary__product-edit").forEach((e=>{e.classList.add("active")})),e.querySelector("[data-product-more]").slideDown(0)})),document.querySelector(".search__input")&&(document.querySelector(".search__input").addEventListener("focus",(e=>{document.querySelector(".search").classList.add("open")})),document.querySelector(".search__bar").addEventListener("mouseleave",(e=>{document.querySelector(".search").classList.remove("open")}))),document.querySelectorAll(".receiving__card-input").length>0&&document.querySelector(".receiving__action")&&document.querySelectorAll(".receiving__card-input")?.forEach((e=>{e.addEventListener("change",(e=>{document.querySelector(".receiving__action").removeAttribute("disabled")}))})),document.querySelector(".arm__badges-selected")){const e=document.querySelectorAll('.arm__table input[type="checkbox"]'),t=document.querySelector('input[type="checkbox"][value="all"]'),n=document.querySelector(".arm__badges-selected"),a=document.querySelectorAll(".arm__badges-selected-quantity"),s=document.querySelector(".arm__badges-appointment"),o=document.querySelector(".arm__badges-selected-main"),c=document.querySelector(".add-badges-btn"),l=document.querySelectorAll(".arm__badges-appointment-back"),r=document.querySelector('select[name="badges"]'),i=document.querySelector(".arm__badges-appointment-btn");function d(){const e=document.querySelectorAll('.arm__table input[type="checkbox"]:checked:not([value="all"])').length;a.forEach((t=>{t.textContent=e})),e>0?n.classList.add("visible"):n.classList.remove("visible")}e.forEach((n=>{n.addEventListener("change",(function(){if("all"===this.value){const n=this.checked;e.forEach((e=>{e!==t&&(e.checked=n)}))}d()}))})),c?.addEventListener("click",(function(){o.classList.add("hidden"),s.classList.remove("hidden")})),l?.forEach((e=>{e.addEventListener("click",(function(){o.classList.remove("hidden"),s.classList.add("hidden")}))})),r?.addEventListener("change",(function(){"0"===r.value?i.setAttribute("disabled","disabled"):i.removeAttribute("disabled")}))}document.querySelectorAll(".diet__day-form")?.forEach((e=>{e.addEventListener("submit",(function(t){t.preventDefault();const n=e.elements.name.value.trim(),a=e.elements.ccal.value.trim(),s=e.elements.unit.value;if(n&&a){const t=document.createElement("div");t.classList.add("diet__day-row"),t.innerHTML=`\n                    <span>${n}</span>\n                    <span>${a} ${s}</span>\n                    <button type="button" class="remove-row icon-delete"></button>\n                `,e.insertBefore(t,e.firstChild),e.elements.name.value="",e.elements.ccal.value="",t.querySelector(".remove-row").addEventListener("click",(function(){t.remove()}))}else alert("Заполните все поля!")}))}))}))})();